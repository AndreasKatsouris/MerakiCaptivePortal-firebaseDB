<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Ocean Basket Guest Wifi</title>

    <!-- Firebase SDK -->
    <script  src="/__/firebase/10.12.5/firebase-app-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-auth-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-database-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-firestore-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-functions-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-messaging-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-storage-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-analytics-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-remote-config-compat.js"></script>
    <script  src="/__/firebase/10.12.5/firebase-performance-compat.js"></script>
    <script  src="/__/firebase/init.js?useEmulator=false"></script>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        // Redirect to admin dashboard if 'admin' query parameter is present
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('admin') === 'true') {
            window.location.href = 'admin-dashboard.html';
        }
    </script>

  </head>
  <body>
    <div class="container">
      <div class="row cols-md-6">
          <div class="main-center">
              <center>
                  <img src="img/meraki-logo.png" style="width:100%;" alt="Meraki Logo"/>
                  <hr/>
              </center>
          </div>
      </div>
      <div class="row cols-md-2">
          <div class="main-login main-center">
              <form class="form-horizontal" id="loginForm">
                  <div class="form-group">
                      <div class="cols-sm-10">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
                              <input type="text" class="form-control" id="username" placeholder="Enter your Name & Surname" required/>
                          </div>
                          <div class="validation-message" id="nameValidationMessage"></div>
                      </div>
                  </div>
                  <div class="form-group">
                      <div class="cols-sm-10">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="fa fa-envelope fa" aria-hidden="true"></i></span>
                              <input type="email" class="form-control" id="email" placeholder="Enter your Email" required/>
                          </div>
                          <div class="validation-message" id="emailValidationMessage"></div>
                      </div>
                  </div>
                  <div class="form-group">
                      <div class="cols-sm-10">
                          <div class="input-group">
                              <span class="input-group-addon"><i class="fa fa-building fa" aria-hidden="true"></i></span>
                              <input type="text" class="form-control" id="company" placeholder="Enter your Company"/>
                          </div>
                          <div class="validation-message" id="companyValidationMessage"></div>
                      </div>
                  </div>
                  <div class="form-group">
                      <div class="cols-sm-10">
                          <div class="input-group">
                              <input type="checkbox" id="terms"> I agree to the terms and conditions
                          </div>
                          <div class="validation-message" id="termsValidationMessage"></div>
                        </div>
                  </div>
                  <div class="form-group">
                      <button type="submit" class="btn btn-primary btn-lg btn-block login-button">Submit</button>
                  </div>
              </form>
          </div>
      </div>
    </div>
        <!-- Admin Login Link -->
        <div style="text-align: center; margin-top: 20px;">
            <a href="admin-dashboard.html" class="btn btn-link">Admin Login</a>
        </div>

    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/merakiFirebase.js"></script>

    <!-- Apply customization settings from Firebase -->
    <script>
        firebase.database().ref('customization/').once('value').then(snapshot => {
            const settings = snapshot.val();
            console.log('Retrieved settings:', settings); // Debugging: Output retrieved settings
            if (settings) {
                document.body.style.backgroundColor = settings.bgColor;
                document.body.style.fontFamily = settings.font;
                document.body.style.fontSize = settings.fontSize + 'px';
                if (settings.logoURL) {
                    document.getElementById('logo').src = settings.logoURL;
                }
            } else {
                console.error('No customization settings found.');
            }
        }).catch(error => console.error('Error retrieving settings:', error));
    </script>

    <!-- Optional demo elements -->
    <div class="baseGrantURL"></div>
    <div class="userContinueURL" style="display:none;"></div>
    <div class="clientIP" style="display:none;"></div>
    <div class="clientMAC" style="display:none;"></div>
    <div class="nodeMAC" style="display:none;"></div>
  </body>
</html>
